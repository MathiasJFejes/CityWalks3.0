<ion-view view-title="Record Route" id="page14" cache-view="false">
    <ion-content padding="false" scroll="false" class="has-header" style="background: linear-gradient(lightgray,#7253C3)">
       
         <!--INIT VIEW-->
        <div ng-hide="clickedStart" style="position:absolute;top:40%;text-align:center;color:white;font-size:medium;left:8%;right:8%"> <p> If your position is not displayed on a map after a few seconds, press the My Location button below!</p></div>
        <div ng-init="initPosition()" id="map_canvas_current" ng-hide="clickedStart" style="block;position:relative;top:0%;left:0;width:100%;height:92%;"> </div>
         <button style="position:absolute;bottom:0%;left:0%;width:50%" id="recordRoute-button24" ng-click="initPosition()" ng-hide="clickedStart" class="button icon-left ion-navigate button-positive">My Location</button>
         <button style="position:absolute;bottom:0%;left:50%;width:50%" id="recordRoute-button28" ng-model="clickedStart" ng-click="startRecordingRoute();recordingPopup(); clickedStart=true" ng-hide="clickedStart" class="button icon-left ion-play button-balanced">Start recording</button>
   

        <!--REC VIEW-->
        <div ng-show="clickedStart && !clickedShare" id="map_canvas" style="block;position:relative;top:0;left:0;width:100%;height:92%;"> </div>


        <!-- SHOW THIS WHEN DONE WALKING-->
        <div class="list" ng-show="clickedStop && !clickedShare" style="position:absolute;width:100%;bottom:5%">

            <a class="item item-icon-left">
                <i class="icon ion-map"></i>
                {{routeDistance}} (km)
            </a>

            <a class="item item-icon-left">
                <i class="icon ion-ios-timer-outline"></i>
                {{routeTimeMin}}:{{routeTimeSec}} (hh:mm:ss)
            </a>
        </div>

        <!-- STOP -->
        <button id="recordRoute-button25" style="position:absolute;width:100%;margin:auto;bottom:0%" ng-model="clickedStop" ng-click="stopRecordingRoute(); clickedStop=true" class="button icon-left ion-stop button-block button-assertive" ng-show="clickedStart && !clickedStop"> Stop recording</button>
        <!-- Delete REC-->
        <button style="position:absolute;bottom:0%;left:0%;width:30%" id="recordRoute-button26" ng-click="deleteRecordedRoute(); clickedStart=false; clickedStop=false" class="button icon-left ion-ios-close-outline button-assertive" ng-show="clickedStop && !clickedShare">Delete</button>
        <!-- share REC-->
        <button style="position:absolute;bottom:0%;left:30%;width:70%" id="recordRoute-button27" ng-model="clickedShare" ng-click="shareRecordedRoute(); clickedShare=true" class="button icon-left ion-android-share-alt button-royal" ng-show="clickedStop && !clickedShare">Share route</button>
  

        <!-- SEND -->

        <div ng-show="clickedShare">
            <ion-scroll id="comments-container1" style="position:absolute;top:0%;bottom:8%" ng-hide="clickedNearby">
                <div class="list">
                    <div class="item item-divider item-icon-left" style="background: linear-gradient(#7253C3,#937bd1);color:white">
                        <i class="icon ion-document-text"></i>
                        Route Title

                    </div>
                    <label class="item item-input">
                        <input required type="text" maxlength="20" placeholder="Input a route title here!" ng-model="data.routeTitle">
                    </label>
                    <div class="item item-divider item-icon-left" style="background: linear-gradient(#7253C3,#937bd1);color:white">
                        <i class="icon ion-android-textsms"></i>
                        Route Comment
                    </div>
                    <label class="item item-input">
                        <textarea required rows="3" maxlength="120" placeholder="Input the first route comment here!" ng-model="data.routeComment"></textarea>
                    </label>
                    <div class="item item-divider item-icon-left" style="background: linear-gradient(#7253C3,#937bd1);color:white">
                        <i class="icon ion-thumbsup"></i>
                        Route recommendation

                    </div>
                    <ion-checkbox class="item-checkbox-right checkbox-balanced" ng-model="data.routeLike">Recommend Route?</ion-checkbox>
                    <div class="item item-divider item-icon-left" style="background: linear-gradient(#7253C3,#937bd1);color:white">
                        <i class="icon ion-ios-information"></i>
                        Route Information
                    </div>
                    <a class="item" ">
                        Route Distance: {{routeDistance}} (km)
                    </a>
                    <a class="item">
                        Route Time: {{routeTimeMin}}:{{routeTimeSec}} (hh:mm:ss)
                    </a>
                </div>
             </ion-scroll>
        </div>
        
            <!-- Back-->
            <button style="position:absolute;bottom:0%;left:0%;width:30%" id="recordRoute-button26" ng-click="clickedShare=false" class="button icon-left ion-android-arrow-back button-assertive" ng-show="clickedShare">Back</button>
            <!-- SAVE REC-->
            <button style="position:absolute;bottom:0%;left:30%;width:70%" id="recordRoute-button27" ng-click="sendRecordedRoute()" class="button icon-left ion-ios-upload button-royal" ng-show="clickedShare">Save route</button>


    </ion-content>
</ion-view> 